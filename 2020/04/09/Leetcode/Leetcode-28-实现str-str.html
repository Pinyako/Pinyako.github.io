<hr>
<p>title: Leetcode 28.实现str-str<br>hide: true<br>tags:</p>
<ul>
<li>C++</li>
<li>Leetcode<br>categories: Leetcode<br>mathjax: false<br>date: 2019-05-05 18:12:24</li>
</ul>
<hr>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>实现 strStr() 函数。</p>
<p>给定一个 haystack 字符串和一个 needle 字符串，在 haystack 字符串中找出 needle 字符串出现的第一个位置 (从0开始)。</p>
<p>如果不存在，则返回  -1。</p>
<p><strong>示例 1:</strong></p>
<pre><code class="lang-markdown">    输入: haystack = &quot;hello&quot;, needle = &quot;ll&quot;
    输出: 2
</code></pre>
<p><strong>示例 2:</strong></p>
<pre><code class="lang-markdown">    输入: haystack = &quot;aaaaa&quot;, needle = &quot;bba&quot;
    输出: -1
</code></pre>
<p><strong>说明:</strong></p>
<p>当 needle 是空字符串时，我们应当返回什么值呢？这是一个在面试中很好的问题。</p>
<p>对于本题而言，当 needle 是空字符串时我们应当返回 0 。这与C语言的 strstr() 以及 Java的 indexOf() 定义相符。</p>
<h2 id="题目分析"><a href="#题目分析" class="headerlink" title="题目分析"></a>题目分析</h2><p>在haystack字符串中寻找needle的首字符, 取needle长度的子串并和needle对比, 如果相同返回位置, 否则将haystack字符串的那一位改为0.</p>
<h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><pre><code class="lang-c++">class Solution {
public:
    int strStr(string haystack, string needle) {
        if(needle == &quot;&quot;) return 0; // needle为空字符时返回0
        while(haystack.find(needle[0]) != -1) {
            int pos = haystack.find(needle[0]);
            // pos为haystack中找到needle首字符的位置
            if(haystack.substr(pos, needle.size()) == needle) {
                // 子串和needle相同
                return pos;
            }else {
                haystack[pos] = 0;
            }
        }
        return -1;
    }
};
</code></pre>
